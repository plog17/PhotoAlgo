<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Pier-Luc Auger">
  <title>TP2 Découpage d'images</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/2-col-portfolio.css" rel="stylesheet">
  <link href="css/thumbnail-gallery.css" rel="stylesheet">
  <link href="css/custom.css" rel="stylesheet">

</head>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">TP2 Découpage d'images</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li>
            <a href="#results1">Algorithme 1</a>
          </li>
          <li>
            <a href="#opti">Optimisations</a>
          </li>
          <li>
            <a href="#photoperso">Photos personnelles</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="page-header">TP2 Découpage d'images
          <br>
          <small>Par Pier-Luc Auger</small>
        </h1>
      </div>
    </div>

    <div id="evolution">
      <div class="row">
        <h3>Évolution de l'algorithme</h3>
        Au départ, j'ai testé un algorithme bidon qui enleverait le point avec l'énergie la plus faible. On voit sur le premier gif que ça tire dans tous les sens et qu'il aurait été impossible de redimensionner une image de cette manière. Mon amélioration première
        fut fort simple: trouver le point de moindre énergie sur la première ligne et se frayer un chemin contienu de moindre énergie jusqu'en bas de l'image. Déjà, j'obtenu quelque chose d'intéressant. Mon implémentation finale est plus intéressante,
        l'algorithme parcours la fonction d'énergie au complet une seule fois et calcul le poids pour atteindre les pixels du bas à partir du haut de l'image. En faisant ce traitement, l'algorithme conserve ce poids, mais aussi le chemin utilisé pour
        obtenir ce poids minimisé.
        <br>
        <br>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <img class="img-responsive image-tp" src="images/evolution/randomMinEnergy.gif" alt="">
          <p>Approche sans chemin.</p>
        </div>
        <div class="col-md-4 portfolio-item">
          <img class="img-responsive image-tp" src="images/evolution/yo_couch_by_yuan2003.gif" alt="">
          <p>Approche premier choix glouton.</p>
        </div>
        <div class="col-md-4 portfolio-item">
          <iframe src="http://gfycat.com/ifr/MeanGoodnaturedArcticduck" frameborder="0" autoplay="1" scrolling="no" width="332" height="250" style="-webkit-backface-visibility: hidden;-webkit-transform: scale(1);"></iframe>
          <p>Approche programmation dynamique</p>
        </div>
      </div>

    </div>


    <div id="algo">
      <div class="row">
        <h3>Algorithme final</h3>

        L'algorithme utilise une fonction d'énergie basée sur le calcul de la dérivée partielle en x et en y sur l'image. Cela permet de détecter les zones importantes de l'image qu'il faudrait préserver lors du redimensionnement. Voici un exemple imagée de cette
        fonction d'énergie.
        <br>
        <br>
      </div>
      <div class="row">
        <div class="col-md-6">
          <img class="img-responsive image-tp" src="images/evolution/energy.jpg" alt="">
        </div>
        <div class="col-md-6">
          <img class="img-responsive image-tp" src="images/evolution/energy_2.jpg" alt="">
        </div>
      </div>


      <h3>Crédits supplémentaires</h3>
      J'ai implémenté une fonctionnalité qui permet de choisir une zone d'intérêt dans l'image pour éviter que cette zone ne soit touchée par le redimensionnement. Pour ce y arriver, j'ai utilisé la commande roipoly() qui permet à l'utilisateur de choisir une
      zone dans l'image. Ensuite, on marque dans la fonction d'énergie tous les pixels contenus dans cette zone comme ayant une énergie maximale. On décourage donc l'algorithme de minimisation de passer par ces pixels, qu'on veut préserver. En image,
      on voit bien dans la fonction d'énergie les pixels qui on été choisis comme étant d'intérêt.
      <br>
      <br>
      <div class="row">
        <div class="col-md-6">
          <img class="img-responsive image-tp" src="images/evolution/roiUsage.png" alt="">
          <p>
            Définition de la zone d'intérêt.
          </p>
        </div>
        <div class="col-md-6">
          <img class="img-responsive image-tp" src="images/evolution/roiMask.jpg" alt="">
          <p>
            Application de la zone d'intérêt à la fonction d'énergie.
          </p>
        </div>
      </div>
    </div>


    <div id="resultat">

      <h3>Résultats</h3>

      <h4>Suppression de 40% des pixels sans région d'intérêt</h4>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/yo_couch_by_yuan2003.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_1_dynamic_yo_couch_by_yuan2003.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_0_dynamic_yo_couch_by_yuan2003.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/house_by_jim_mccann.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_1_dynamic_house_by_jim_mccann.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_0_dynamic_house_by_jim_mccann.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/tower.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_1_dynamic_tower.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_0_dynamic_tower.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/max_in_windsor.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_1_dynamic_max_in_windsor.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_0_0_dynamic_max_in_windsor.jpg" alt="">
        </div>
      </div>


      <h4>Suppression de 40% des pixels avec région d'intérêt</h4>

      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/yo_couch_by_yuan2003.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_1_0_dynamic_yo_couch_by_yuan2003.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskyo_couch_by_yuan2003.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/house_by_jim_mccann.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_1_0_dynamic_house_by_jim_mccann.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskhouse_by_jim_mccann.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/tower.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_1_0_dynamic_tower.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/masktower.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/max_in_windsor.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en hauteur</h5>
          <img class="img-responsive image-tp" src="images/cut/40_1_0_dynamic_max_in_windsor.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskmax_in_windsor.jpg.jpg" alt="">
        </div>
      </div>
    </div>



    <h4>Suppression de 75% des pixels sans région d'intérêt</h4>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/yo_couch_by_yuan2003.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_1_dynamic_yo_couch_by_yuan2003.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en largeur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_0_dynamic_yo_couch_by_yuan2003.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/house_by_jim_mccann.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_1_dynamic_house_by_jim_mccann.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en largeur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_0_dynamic_house_by_jim_mccann.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/tower.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_1_dynamic_tower.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en largeur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_0_dynamic_tower.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/max_in_windsor.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_1_dynamic_max_in_windsor.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en largeur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_0_0_dynamic_max_in_windsor.jpg" alt="">
      </div>
    </div>


    <h4>Suppression de 75% des pixels avec région d'intérêt</h4>
    Dans cette section, on voit bien que la sélection d'une région d'intérêt a quand même une limite. On voit qu'on contraignant l'algorithme à éviter certains pixels, on réduit les possibilités de chemin de basse énergie. La photo avec les billes et celle
    montrant une structure le montre bien, puisqu'on perd l'essence originale de l'image. Même l'image Tower est difficilement traitée si le masque est trop grand. En effet, on voit bien sur la gauche de l'image qu'on perd du réalisme dans les nuages
    et le ciel. Sur l'image de Jim McCann, on voit très bien les artefacts qui apparaissent sur la droite.
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/yo_couch_by_yuan2003.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_yo_couch_by_yuan2003.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Masque utilisé</h5>
        <img class="img-responsive image-tp" src="images/mask/maskyo_couch_by_yuan2003.jpg.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/house_by_jim_mccann.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_house_by_jim_mccann.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Masque utilisé</h5>
        <img class="img-responsive image-tp" src="images/mask/maskhouse_by_jim_mccann.jpg.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/tower.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_tower.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Masque utilisé</h5>
        <img class="img-responsive image-tp" src="images/mask/masktower.jpg.jpg" alt="">
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 portfolio-item">
        <h5>Image originale</h5>
        <img class="img-responsive image-tp" src="images/originals/max_in_windsor.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Image redimensionnée en hauteur</h5>
        <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_max_in_windsor.jpg" alt="">
      </div>
      <div class="col-md-4 portfolio-item">
        <h5>Masque utilisé</h5>
        <img class="img-responsive image-tp" src="images/mask/maskmax_in_windsor.jpg.jpg" alt="">
      </div>
    </div>


    <div>
      <h4>Photos prises sur internet</h4>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/internet/im1.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_im1.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskim1_75.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/internet/im2.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_im2.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskim2_75.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/internet/im3.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_im3.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskim3_75.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/internet/im4.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_im4.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskim4_75.jpg" alt="">
        </div>
      </div>
    </div>



    <div>
      <h4>Photos personnelles</h4>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/perso/perso1.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_perso1.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskperso1.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/perso/perso2.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_perso2.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskperso2.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/perso/perso3.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_perso3.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskperso3.jpg.jpg" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 portfolio-item">
          <h5>Image originale</h5>
          <img class="img-responsive image-tp" src="images/originals/perso/perso4.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Image redimensionnée en largeur</h5>
          <img class="img-responsive image-tp" src="images/cut/75_1_0_dynamic_perso4.jpg" alt="">
        </div>
        <div class="col-md-4 portfolio-item">
          <h5>Masque utilisé</h5>
          <img class="img-responsive image-tp" src="images/mask/maskperso4.jpg.jpg" alt="">
        </div>
      </div>
    </div>
  </div>



  <hr>
  <hr>

  <footer>
    <div class="row">
      <div class="col-lg-12">
        <p>Réalisé par Pier-Luc Auger</p>
      </div>
    </div>
  </footer>

  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
</body>

</html>